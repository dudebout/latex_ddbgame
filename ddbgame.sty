\ProvidesPackage{ddbgame}

\DeclareOption{beamer}{
  \AtBeginDocument{
    \def\sgtextcolor{normal text.fg}
    \def\sglinecolor{normal text.fg}
  }
}
\ProcessOptions

\RequirePackage{sgamevar}
\RequirePackage{color}
\RequirePackage{calc}

\newcommand{\punctuategame}[2]{%
  \setbox0=\hbox{#1}% box containing the whole game
  \setbox1=\hbox{I}% box used to determined the height of text in a cell
  \newlength{\vdisp}% vertical displacement of punctuation
  \setlength{\vdisp}{-\dp0 - \arrayrulewidth + \gamestretch \baselineskip / 2 - \ht1 / 2}%
  \newlength{\hdisp}% horizontal displacement of punctuation
  \setlength{\hdisp}{\arrayrulewidth / 2}%
  \mbox{#1}% placing the game
  \raisebox{\vdisp}{\hspace{\hdisp}\mbox{#2}}}% placing punctuation
